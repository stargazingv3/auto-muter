<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Auto Muter</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <h1>Auto Muter</h1>
        <button id="startStopButton">Start</button>
        <hr>
        
        <h2>Enroll New Speaker</h2>
        <form id="enrollForm">
            <input type="text" id="speakerName" placeholder="Speaker Name" required>
            <input type="url" id="youtubeUrl" placeholder="YouTube URL" required>
            <input type="text" id="startTime" placeholder="Start (e.g., 01:23)">
            <input type="text" id="endTime" placeholder="End (e.g., 02:45)">
            <button type="submit">Enroll</button>
        </form>
        <p id="enrollStatus"></p>

        <div id="speakerExistsSection" style="display: none;">
            <p id="speakerExistsMessage"></p>
            <div id="speakerSources" style="display: none;">
                <strong>Existing Sources:</strong>
                <ul id="speakerSourcesList"></ul>
            </div>
            <button type="button" id="addSampleButton">Add New Sample</button>
            <button type="button" id="showSourcesButton">Show Sources</button>
            <button type="button" id="useDifferentNameButton">Cancel</button>
        </div>

        <hr>
        <h2>Enrolled Speakers</h2>
        <button id="refreshSpeakers">Refresh List</button>
        <ul id="speakerList"><li>Loading...</li></ul>
        <hr>

        <h2>Similarity Threshold</h2>
        <div class="threshold-controls">
            <input type="range" id="thresholdSlider" min="0" max="1" step="0.01" value="0.2">
            <input type="number" id="thresholdInput" min="0" max="1" step="0.01" value="0.2">
            <button id="saveThresholdButton">Save</button>
            <span id="thresholdStatus" class="status"></span>
        </div>
        <hr>

        <div class="footer-links">
            <label for="offlineModeToggle">Offline Mode:</label>
            <input type="checkbox" id="offlineModeToggle">
        </div>
		<div class="export-buttons">
			<button id="downloadDbButton">Download DB</button>
			<button id="downloadCsvButton">Download CSV (No Embeddings)</button>
		</div>
        <button id="resetDbButton">Reset Database</button>
        <button id="deleteDataButton">Delete All My Data</button>
        <a href="privacy.html" class="privacy-link" target="_blank">Privacy Policy</a>
    </div>
    <script src="popup.js"></script>
</body>
</html>

